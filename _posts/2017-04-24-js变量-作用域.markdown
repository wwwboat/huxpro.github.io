---
layout:     post
title:      "js变量-作用域"
subtitle:   " \"高程3之js变量、作用域\""
date:       2017-04-24 12:00:00
author:     "wwwboat"
header-img: ""
catalog: true
tags:
    - 高程
---

# 变量
变量是在特定时间用于保存特定值的一个名字。

## 基本类型和引用类型的值
变量能够包含两种不同数据类型的值：基本类型和引用类型。<br/>
基本类型值指简单的数据段，引用类型值指那些可能由多个值构成的对象。<br/>
基本类型包括：undefined、null、boolean、number、string。<br/>
引用类型的值时保存在内存中的对象。在复制保存着对象的某个变量时，操作的是对象的引用，在为对象添加属性时，操作的是对象本身；只能给引用类型动态的添加属性，基本类型不行。
## 检测类型
typeof对于检测引用类型的值，这个操作符用处不大。<br/>
想要知道对象是什么类型的，可以使用 instanceof 操作符。<br/>
因为所有引用类型都是object的实例，所以 obj instanceof object 用远是true。
 
# 执行环境及作用域
执行环境定义了变量或函数有权访问的其他数据，决定了它们各自的行为。<br/>
当代码在一个环境中执行时，会创建变量对象的一个作用域链。作用域链的用途：保证对执行环境有权访问的所有变量和函数的有序访问。<br/>
内部环境可以通过作用域链访问所有的外部环境，但外部环境不能访问内部环境中的任何变量和函数。这些环境之间的联系是线性／有次序的。每个环境都可以向上搜索作用域链，以查询变量和函数名；但任何环境都不能通过向下搜索作用域链儿进入另一个执行环境。

## 延长作用域链
当执行流进入下列任何一个语句时，作用域链就会得到加长：<br/>
1.try-catch语句的catch块。
2.with语句。

```
function buildUrl()
{
var qs="?debug=true";
with(location){            //with接受的是location对象，包含了location的所有属性和方法。
var url=href+qs;
}
return url
}
```

## 没有块级作用域
在if语句中的变量声明会将变量添加到当前的执行环境（就是花括号外面那个环境）。<br/>
由for语句创建的变量i在for循环执行结束后，i也会存在于循环外部的执行环境中。

# 执行环境及作用域看，
# 执行环境及作用域
